(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{150:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return d}));var a=n(1),b=n(6),l=(n(0),n(160)),r={id:"PluginCustomization",title:"Plugin Customization",sidebar_label:"Plugin Customization"},i={id:"plugins_api/PluginCustomization",title:"Plugin Customization",description:"## Motivation",source:"@site/docs/plugins_api/PluginCustomization.md",permalink:"/rich-content/docs/plugins_api/PluginCustomization",sidebar_label:"Plugin Customization",sidebar:"api",previous:{title:"Common props",permalink:"/rich-content/docs/ricos/ricos_api"},next:{title:"RichContentEditor API",permalink:"/rich-content/docs/rce_api/RichContentEditorAPI"}},c=[{value:"Motivation",id:"motivation",children:[]},{value:"Plugin Types as <code>config</code> Keys",id:"plugin-types-as-config-keys",children:[]},{value:"Plugin Settings",id:"plugin-settings",children:[{value:"Common Settings",id:"common-settings",children:[]},{value:"Button Plugin Settings",id:"button-plugin-settings",children:[]},{value:"HTML Plugin Settings",id:"html-plugin-settings",children:[]},{value:"Hashtag Plugin Settings",id:"hashtag-plugin-settings",children:[]},{value:"Link Plugin Settings",id:"link-plugin-settings",children:[]},{value:"Mentions Plugin Settings",id:"mentions-plugin-settings",children:[]},{value:"Giphy Plugin Settings",id:"giphy-plugin-settings",children:[]},{value:"Text Color Plugin",id:"text-color-plugin",children:[]}]},{value:"References and Examples",id:"references-and-examples",children:[]}],o={rightToc:c};function d(e){var t=e.components,n=Object(b.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},o,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"motivation"},"Motivation"),Object(l.b)("p",null,"As it turns out, various ",Object(l.b)("inlineCode",{parentName:"p"},"RichContentEditor")," consumers have different customization needs. On other hand, it is important to keep the public API clean, while providing the desired customability. In order to meet these requirements, the ",Object(l.b)("inlineCode",{parentName:"p"},"RichContentEditor")," exposes ",Object(l.b)("inlineCode",{parentName:"p"},"config")," object prop."),Object(l.b)("p",null,"This document focuses on plugin customization capabilities."),Object(l.b)("h2",{id:"plugin-types-as-config-keys"},"Plugin Types as ",Object(l.b)("inlineCode",{parentName:"h2"},"config")," Keys"),Object(l.b)("p",null,"Every plugin exports a constant value that defines its type. The convention is to name the type according to the ",Object(l.b)("em",{parentName:"p"},Object(l.b)("inlineCode",{parentName:"em"},"pluginName_TYPE"))," pattern. The type is actually a plugin identifier, so it has to be unique."),Object(l.b)("p",null,"The type serves multiple purposes. It is used to map the ",Object(l.b)("a",Object(a.a)({parentName:"p"},{href:"https://draftjs.org/docs/advanced-topics-entities"}),"entities")," to proper plugin components both in ",Object(l.b)("inlineCode",{parentName:"p"},"RichContentEditor")," and ",Object(l.b)("inlineCode",{parentName:"p"},"RichContentViewer"),". Another plugin type application is ",Object(l.b)("inlineCode",{parentName:"p"},"config")," keys."),Object(l.b)("p",null,"Every plugin expects to find its custom settings within the ",Object(l.b)("inlineCode",{parentName:"p"},"config[pluginName_TYPE]")," field. The expected value is an object containing specific settings that vary for every plugin. The following sections provide a list of plugin settings. As usual, the list is a subject to change."),Object(l.b)("h2",{id:"plugin-settings"},"Plugin Settings"),Object(l.b)("h3",{id:"common-settings"},"Common Settings"),Object(l.b)("p",null,"These settings are common to all the plugins and handled at the ",Object(l.b)("strong",{parentName:"p"},"base")," plugin level."),Object(l.b)("h4",{id:"width-and-height"},Object(l.b)("inlineCode",{parentName:"h4"},"width")," and ",Object(l.b)("inlineCode",{parentName:"h4"},"height")),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"width")," and ",Object(l.b)("inlineCode",{parentName:"p"},"height")," are expected to be integers. They serve as ",Object(l.b)("strong",{parentName:"p"},"initial")," plugin component dimensions in pixels, if there are no ",Object(l.b)("inlineCode",{parentName:"p"},"width")," and ",Object(l.b)("inlineCode",{parentName:"p"},"height")," fields defined in ",Object(l.b)("inlineCode",{parentName:"p"},"componentData.config")," for that specific plugin entity."),Object(l.b)("h4",{id:"toolbar"},Object(l.b)("inlineCode",{parentName:"h4"},"toolbar")),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"toolbar")," setting refers to the plugin functionality toolbar, it is an object which may consist of the following keys: "),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"setting key"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"description"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"default value"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"is required?"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"editor/viewer config"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"hidden")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"an array of toolbar button ",Object(l.b)("inlineCode",{parentName:"td"},"keynames")," to be removed from toolbar"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"editor")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"icons")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"an object of toolbar button ",Object(l.b)("inlineCode",{parentName:"td"},"keynames")," to custom icons map: ",Object(l.b)("inlineCode",{parentName:"td"},"{ delete: MyCustomTrashIcon }")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"editor")))),Object(l.b)("p",null,"Currently, it exposes a field ",Object(l.b)("inlineCode",{parentName:"p"},"hidden")," which is expected to be an array of toolbar button ",Object(l.b)("inlineCode",{parentName:"p"},"keynames")," to be removed from toolbar and a field ",Object(l.b)("inlineCode",{parentName:"p"},"icons")," which is expected to be an object of button icons to replace the existing icons."),Object(l.b)("h4",{id:"defaultdata"},Object(l.b)("inlineCode",{parentName:"h4"},"defaultData")),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"defaultData")," setting enables consumers to set the default data for a plugin when it is inserted into the editor.  It is an object with the same fields as the plugins entity data."),Object(l.b)("h3",{id:"button-plugin-settings"},"Button Plugin Settings"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"setting key"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"description"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"default value"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"is required?"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"editor/viewer config"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"activeButton")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The index of the chosen preset button design"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"0"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"borderRadius")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The border radius in pixels"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"0"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"borderWidth")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The border width in pixels"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"0"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"buttonText")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The button label"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"Click Me")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"url")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The URL that should be redirected when clicking on the button"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Yes"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"rel")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The relationship between the current URL and the linked URL"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"nofollow")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Yes"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"target")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Specifies where to open URL in new tab or in current tab"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"_blank")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Yes"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"textColor")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The color of button text in Hex."),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"#FEFDFD")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"borderColor")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The color of button border in Hex."),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"#0161FF")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"backgroundColor")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The color of button background in Hex."),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"#0161FF")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")))),Object(l.b)("h3",{id:"html-plugin-settings"},"HTML Plugin Settings"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"setting key"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"description"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"default value"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"is required?"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"editor/viewer config"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"htmlIframeSrc")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"src")," attribute of the HTML ",Object(l.b)("inlineCode",{parentName:"td"},"iframe")," when the plugin is used in ",Object(l.b)("inlineCode",{parentName:"td"},"source mode")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Yes"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"maxWidth")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"the maximum component width in pixels. ",Object(l.b)("strong",{parentName:"td"},"note:")," this value is dynamicaly limited by the editor boundaries"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"940"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"minWidth")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"the minimum component width in pixels"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"35"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"maxHeight")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"the maximum component height in pixels"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1200"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"minHeight")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"the minimum component height in pixels"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"35"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"width")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"the initial component width in pixels"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"740"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"height")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"the initial component height in pixels"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"242"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")))),Object(l.b)("h3",{id:"hashtag-plugin-settings"},"Hashtag Plugin Settings"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"setting key"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"description"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"default value"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"is required?"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"editor/viewer config"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"createHref")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"converter function that converts the Hashtag ",Object(l.b)("inlineCode",{parentName:"td"},"#text")," to URL. if provided, the hashtags will behave as anchor links"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"onClick")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"optional Hashtag click handler"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")))),Object(l.b)("h3",{id:"link-plugin-settings"},"Link Plugin Settings"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"setting key"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"description"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"default value"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"is required?"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"editor/viewer config"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"onClick")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"optional Link click handler"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"preview")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Link Preview settings"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")))),Object(l.b)("p",null,"The Link Preview Plugin is implemented within the Link Plugin, and is activated once the Link Plugin Settings object contains ",Object(l.b)("inlineCode",{parentName:"p"},"preview")," field. The ",Object(l.b)("inlineCode",{parentName:"p"},"preview")," object structure as follows:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"\n  {\n    getMetadataUrl: (query: string) => string,\n    token: string,\n    format: string,\n  }\n\n")),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"getMetadataUrl")," should provide a Website metadata service endpoint URL for a given query URL. The ",Object(l.b)("inlineCode",{parentName:"p"},"token")," is a security token appended  to request headers (",Object(l.b)("inlineCode",{parentName:"p"},"Authorization")," header). The ",Object(l.b)("inlineCode",{parentName:"p"},"format"),"  is the expected response format. Currently the only supported format is 'oembed'."),Object(l.b)("h3",{id:"mentions-plugin-settings"},"Mentions Plugin Settings"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"setting key"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"description"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"default value"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"is required?"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"editor/viewer config"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"getMentions")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"function that retrieves a list of suggestions according to provided search query parameter"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Yes"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"onMentionClick")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"optional Mention click handler"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"getMentionLink")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"given the mention return link for it"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Yes"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"visibleItemsBeforeOverflow")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"boolean how many items should be visible before overflowing"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"editor")))),Object(l.b)("h3",{id:"giphy-plugin-settings"},"Giphy Plugin Settings"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"setting key"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"description"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"default value"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"is required?"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"editor/viewer config"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"giphySdkApiKey")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("a",Object(a.a)({parentName:"td"},{href:"https://developers.giphy.com/dashboard/?create=true"}),"Giphy Developer API key")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Yes"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"componentDataDefaults")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Default component data"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"{ config: { size: 'content', alignment: 'center' } }")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"editor")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"insertToolbars")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Which toolbars to add insert button to"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"[TOOLBARS.FOOTER]")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"editor")))),Object(l.b)("h3",{id:"text-color-plugin"},"Text Color Plugin"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"setting key"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"description"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"default value"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"is required?"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"editor/viewer config"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"colorScheme")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"custom-style to hex-color map: ",Object(l.b)("inlineCode",{parentName:"td"},"{ color1: { color: '#fff', index: 0 }, ... }")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none (DEFAULT_PALETTE is used by default)"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"editor")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"styleSelectionPredicate")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"a function that tells the plugin which inline styles are relevant: ",Object(l.b)("inlineCode",{parentName:"td"},"string => boolean")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"style => isHexColor(style)")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"both")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"customStyleFn")," (1)"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"a function that converts an inline-style to CSS style: ",Object(l.b)("inlineCode",{parentName:"td"},"DraftInlineStyle => object")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"DEFAULT_STYLE_FN_DRAFT"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"editor")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"customStyleFn")," (2)"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"a function that converts an inline-style to CSS style: ",Object(l.b)("inlineCode",{parentName:"td"},"string => object")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"DEFAULT_STYLE_FN"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"viewer")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"selectionColor")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"selected color indicator (",Object(l.b)("inlineCode",{parentName:"td"},"string"),")"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"#000")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"editor")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"onColorAdded")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"a handler called when a custom color is added"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Yes"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"editor")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"getUserColors")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"a function that returns user-defined custom colors"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"none"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Yes"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"editor")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"onCustomPickerToggle")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"a handler called when the Add Color button is clicked ","[see ",Object(l.b)("strong",{parentName:"td"},"Note")," below for details]"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"modal ",Object(l.b)("inlineCode",{parentName:"td"},"CustomColorPickerDialog")," is displayed"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"editor")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.b)("inlineCode",{parentName:"td"},"onCustomColorPicked")),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"a handler called when a custom color is picked by hue/saturation controls"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"noop"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"No"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"editor")))),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Note:")," ",Object(l.b)("inlineCode",{parentName:"p"},"onCustomPickerToggle")," API is intended to be used when there is a need to display the ",Object(l.b)("inlineCode",{parentName:"p"},"CustomColorPicker")," outside the modal dialog, e.g. as a Settings panel element. The API is called with the following parameters:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"onCustomColorPicked"),"(color) -- should be called when a custom color is picked by hue/saturation controls of the ",Object(l.b)("inlineCode",{parentName:"li"},"CustomColorPicker"),". Usually it should be wired to the ",Object(l.b)("inlineCode",{parentName:"li"},"CustomColorPicker"),"'s ",Object(l.b)("em",{parentName:"li"},Object(l.b)("inlineCode",{parentName:"em"},"onChange"))," prop"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"onCustomColorUpdate"),"(color) -- should be called when user decides to apply the selected color (e.g. ",Object(l.b)("inlineCode",{parentName:"li"},"CustomColorPickerDialog")," Update button)"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"onCustomColorCancel"),"(color) -- should be called when user decides to cancel the custom color selection (e.g. ",Object(l.b)("inlineCode",{parentName:"li"},"CustomColorPickerDialog")," Cancel button)"),Object(l.b)("li",{parentName:"ul"},"all the ",Object(l.b)("inlineCode",{parentName:"li"},"ColorPicker")," props (",Object(l.b)("inlineCode",{parentName:"li"},"t"),", ",Object(l.b)("inlineCode",{parentName:"li"},"isMobile"),", ",Object(l.b)("inlineCode",{parentName:"li"},"theme"),", ...etc)")),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Note"),": ",Object(l.b)("inlineCode",{parentName:"p"},"selectionColor")," prop is deprecated, please override the ",Object(l.b)("inlineCode",{parentName:"p"},".colorPicker_button_selected::after")," class ",Object(l.b)("inlineCode",{parentName:"p"},"border-color")," rule (theme)."),Object(l.b)("h4",{id:"text-color-inline-style-mapper"},"Text Color Inline Style Mapper"),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"RichContentViewer")," exposes the ",Object(l.b)("inlineCode",{parentName:"p"},"inlineStyleMappers")," prop. The mapper purpose is to provide a mapping ",Object(l.b)("inlineCode",{parentName:"p"},"inlineStyle => Component"),", that is used by the ",Object(l.b)("inlineCode",{parentName:"p"},"RichContentViewer"),". The prop value is expected to be an array of functions of the following signature:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"\n() => {\n  style1: {children, { key }} => <Component1 .../>,\n  style2: {children, { key }} => <Component2 .../>,\n  ...\n}\n\n")),Object(l.b)("p",null,"Specifically, the ",Object(l.b)("inlineCode",{parentName:"p"},"textColorInlineStyleMapper")," API accepts two parameters -- ",Object(l.b)("inlineCode",{parentName:"p"},"config")," and ",Object(l.b)("inlineCode",{parentName:"p"},"raw")," (aka ContentState), and returns the mapper array. The custom inline styles are picked from the ",Object(l.b)("inlineCode",{parentName:"p"},"raw")," according to the ",Object(l.b)("inlineCode",{parentName:"p"},"styleSelectionPredicate"),", and the style conversion is performed by the ",Object(l.b)("inlineCode",{parentName:"p"},"customStyleFn")," (2). Both APIs should be provided by the consumer within ",Object(l.b)("inlineCode",{parentName:"p"},"config")," object."),Object(l.b)("h2",{id:"references-and-examples"},"References and Examples"),Object(l.b)("p",null,"Both ",Object(l.b)("a",Object(a.a)({parentName:"p"},{href:"../examples/main/shared/editor/EditorPlugins.jsx"}),"editor-example")," and ",Object(l.b)("a",Object(a.a)({parentName:"p"},{href:"../examples/main/shared/viewer/ViewerPlugins.jsx"}),"viewer-example")," apps demonstrate the plugin customization capabilities."))}d.isMDXComponent=!0},160:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(0),b=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,b=function(e,t){if(null==e)return{};var n,a,b={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(b[n]=e[n]);return b}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(b[n]=e[n])}return b}var o=b.a.createContext({}),d=function(e){var t=b.a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i({},t,{},e)),n},p=function(e){var t=d(e.components);return b.a.createElement(o.Provider,{value:t},e.children)},j={inlineCode:"code",wrapper:function(e){var t=e.children;return b.a.createElement(b.a.Fragment,{},t)}},O=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,r=e.parentName,o=c(e,["components","mdxType","originalType","parentName"]),p=d(n),O=a,m=p["".concat(r,".").concat(O)]||p[O]||j[O]||l;return n?b.a.createElement(m,i({ref:t},o,{components:n})):b.a.createElement(m,i({ref:t},o))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,r=new Array(l);r[0]=O;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:a,r[1]=i;for(var o=2;o<l;o++)r[o]=n[o];return b.a.createElement.apply(null,r)}return b.a.createElement.apply(null,n)}O.displayName="MDXCreateElement"}}]);